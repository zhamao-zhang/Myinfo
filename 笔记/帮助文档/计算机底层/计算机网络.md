# 1.2.4 TCP/IP参考模型和5层参考模型

OSI模型 是只有理论 缺少实践

TCP/IP是先有的实践, 根据实践成果定制的理论模型.





![image-20201207165511764](F:\图像\typora图像保存位置\image-20201207165511764.png)

**五层模型**

![image-20201207170620051](F:\图像\typora图像保存位置\image-20201207170620051.png)







# 物理层 

## 数据通信

![image-20201207173906515](F:\图像\typora图像保存位置\image-20201207173906515.png)



### **数据通信相关术语**

​    通信的目的: 传递消息

​	数据:传送信息的尸体,通常是有意义的符号序列

​	信号:数据的电气/电磁的表现,是数据在传输过程中的存在形式

​	 		**数字信号**: 代表消息的参数取值是离散的,

​			 **模拟信号:**代表消息的参数取值是连续的,

​	信道:  传输的是啥信号,这个信道就叫啥信道;  根据传输介质又可分为,无线信道,和有线信道.

### 三种通信方式:

1.**单工信道**:只有一个方向的通信而没有反方向的交互,仅需要**一条**信道.

2.**半双工信道**:通信的双方都可以发送或接收信息,但任何一方都不能同时发送和接收,需要**两条**信道.(例子:对讲机)

3.**双全工通信**:通信双方可以同时发送和接收信息,也许需要**两条**信道

### 两种数据传输方式:

![image-20201207175522493](F:\图像\typora图像保存位置\image-20201207175522493.png)









## 码元,波特,速率,带宽

### 码元:

![image-20201208130239881](F:\图像\typora图像保存位置\image-20201208130239881.png)

**K进制码元**:

![image-20201208130740047](F:\图像\typora图像保存位置\image-20201208130740047.png)

### 速率:

指的是从一个主机到另一个主机的传输速率.   要注意的是**传输速率与传播速率是截然不同的.**

传输速率:把信息 从主机发送到链路上的 速度  就叫做传输速率.

传播速率:信息在整个信道上传播的速度.

**码元传输速率:** 码元传输速率与一个码元传输几比特大小无关.

​						**一秒传输多少个码元.**

![image-20201208132000061](F:\图像\typora图像保存位置\image-20201208132000061.png)

信息传输速率: 一秒传输多少个比特     举个例子:b/s  , mb/s  懂了吧.



关系:利用码元速率求信息速率   

​        一个码元 占 n ***bit***的信息量.  M码元的信息速录就是  **M*n bit/s**

**带宽:**

![image-20201208133539070](F:\图像\typora图像保存位置\image-20201208133539070.png)



## 奈氏准则和香农定理:(重点计算题)

### **失真**

![image-20201208134651862](F:\图像\typora图像保存位置\image-20201208134651862.png)

红色字体为正相关,蓝色字体为负相关.	

**码间串扰现象**:

![image-20201208135232575](F:\图像\typora图像保存位置\image-20201208135232575.png)



### 奈氏准则:限制码元传输速率

![image-20201208141155850](F:\图像\typora图像保存位置\image-20201208141155850.png)



练习题:

![image-20201208144356869](F:\图像\typora图像保存位置\image-20201208144356869.png)

### 香农定理:限制信息传输速率

![image-20201208145202227](F:\图像\typora图像保存位置\image-20201208145202227.png)

练习题:

![image-20201208150030236](F:\图像\typora图像保存位置\image-20201208150030236.png)





![image-20201208150755535](F:\图像\typora图像保存位置\image-20201208150755535.png)









## 数据的编码 &调制(重点)

前置基础知识: 信道.



### **信道上传输的信号:基带信号和宽带信号**

​	基带信号: 就是将数字信号用数字信道 进行传输.

​	宽带信号:将数字信号放到模拟信号上传数就是宽带信号.

![image-20201208152322952](F:\图像\typora图像保存位置\image-20201208152322952.png)

**什么时候用啥信号:**

![image-20201208152431946](F:\图像\typora图像保存位置\image-20201208152431946.png)



### 编码与调制

编码: 将数据转化成数字信号 使用的就是编码.

调制:将数据转化成模拟信号 使用的是调制 手段

![image-20201208153046933](F:\图像\typora图像保存位置\image-20201208153046933.png)

### 数字信号编码

1.非归零编码(NRZ)

![image-20201208185423401](F:\图像\typora图像保存位置\image-20201208185423401.png)

2.曼彻斯特编码

![image-20201208185613061](F:\图像\typora图像保存位置\image-20201208185613061.png)

3.差分曼彻斯特编码

**抗干扰性**强于曼彻斯特编码

![image-20201208190033663](F:\图像\typora图像保存位置\image-20201208190033663.png)

4.归零编码(RZ)

![image-20201208185452305](F:\图像\typora图像保存位置\image-20201208185452305.png)

5.反向不归零编码(NRZI)

![image-20201208185513446](F:\图像\typora图像保存位置\image-20201208185513446.png)

6.4B/5B编码

![image-20201208190506504](F:\图像\typora图像保存位置\image-20201208190506504.png)

这里有个 四位比特数 对应的 五位比特数的图  百度去搜就行.



### 调制模拟信号

![image-20201208191506290](F:\图像\typora图像保存位置\image-20201208191506290.png)

我他妈的 听不懂 跳过了.

![image-20201208210419062](F:\图像\typora图像保存位置\image-20201208210419062.png)





## 传输介质及分类

### 基本概念:

![image-20201208210958617](F:\图像\typora图像保存位置\image-20201208210958617.png)



### 导向型传输介质

#### 导向性传输介质の双绞线

![image-20201208211416071](F:\图像\typora图像保存位置\image-20201208211416071.png)



#### 导向性传输介质の同轴电缆



![image-20201208211645127](F:\图像\typora图像保存位置\image-20201208211645127.png)

#### 导向性传输介质の光纤

![image-20201208212001324](F:\图像\typora图像保存位置\image-20201208212001324.png)

图二

![image-20201208212028932](F:\图像\typora图像保存位置\image-20201208212028932.png)

**光线的特点**: 1.传输损耗小,中继距离长,对远距离传输特别经济.

​					2.**抗雷电和电磁干扰性好**.

​					3.无串音干扰,保密性好,也**不易被窃听或截取数据**.

​					4.**体积小,重量轻**.



### 非导向型传输介质

![image-20201208215324603](F:\图像\typora图像保存位置\image-20201208215324603.png)

## 物理层传输设备

### 中继器

![image-20201209124655015](F:\图像\typora图像保存位置\image-20201209124655015.png)

### 集线器

![image-20201209125508456](F:\图像\typora图像保存位置\image-20201209125508456.png)

集线器会造成数据冲突,在有两个主机同时发送数据时.   当出现数据冲突时,集线器会将数据返回,主机在若干时间后重新发送数据. 





# 数据链路层

## 概述

![image-20201209130154856](F:\图像\typora图像保存位置\image-20201209130154856.png)

#### 功能:

一	**为网络层提供服务,**

​	1.无确认无连接服务

​	2.有确认无连接服务

​	3.有确认有链接服务(有连接的服务一定有确认.)

二	**链路管理**

​		既连接的建立,维持,释放(用于面向连接服务).

三	**组帧**

​		组帧的四种方法:1.字符计数法,2.字符(节)填充法,3.领比特填充法,4.违规编码法.

四	**流量管理**

五	**差错控制**(帧错/位错)



## 封装成帧和透明传输

### 封装成帧

![image-20201209173409151](F:\图像\typora图像保存位置\image-20201209173409151.png)



在传输数据过程中: 我们根据双方的协议,来限制帧的数据部分大小(帧的数据部分大小就叫做**MTU**,由双方协议规定)

### 透明传输

透明传输是指不管所传数据是什么样的比特组合，都应当能够在链路上传送。当所传数据中的比特组合恰巧与某一个控制信息完全一样时，就必须采取适当的措施，使接收方不会将这样的数据误认为是某种控制信息。这样才能保证[数据链路层](https://baike.baidu.com/item/数据链路层/4329290)的传输是透明的。

### 数字计数法

每一帧的第一位字符 会标这一帧占几个字符

![image-20201210114414457](F:\图像\typora图像保存位置\image-20201210114414457.png)

容错率极低  不建议使用. 

### 字符填充法:

![image-20201210115210913](F:\图像\typora图像保存位置\image-20201210115210913.png)

### 零比特填充法

![image-20201210115508542](F:\图像\typora图像保存位置\image-20201210115508542.png)

### 违规编码法

![image-20201210115748643](F:\图像\typora图像保存位置\image-20201210115748643.png)







## 差错控制

### 从何而来?

![image-20201210120549196](F:\图像\typora图像保存位置\image-20201210120549196.png)

**分类**

![image-20201210171503829](F:\图像\typora图像保存位置\image-20201210171503829.png)



### 奇偶校验码

![image-20201210172859885](F:\图像\typora图像保存位置\image-20201210172859885.png)

 在编码前 加一位1, 使他满足奇偶校验码的条件.    

缺点:纠错能力有限 ,如果数据传输过程中,一次性错了两个比特位的数据, 那么奇偶校验码将检验不出来错误.

### CRC循环冗余编码.(位错)

发送端

![image-20201210174658325](F:\图像\typora图像保存位置\image-20201210174658325.png)

接收端

![image-20201210175225538](F:\图像\typora图像保存位置\image-20201210175225538.png)

**总结**

![image-20201210175519590](F:\图像\typora图像保存位置\image-20201210175519590.png)

### 帧错(海明码)(没学会! 王道考研p22)

![image-20201211130036425](F:\图像\typora图像保存位置\image-20201211130036425.png)

## 可靠传输机制

### 停止等待协议

这些协议现在是在 传输层的   这是由于现代通信技术的成熟,让数据传输时错误率更小了.  在最早的时候 这些协议都是在链路层的.

 